{% extends "base.html" %}

{% block title %}Login - Finance & Habit Tracker{% endblock %}

{% block content %}
<script src="{{ url_for('static', filename='script.js') }}"></script>

    <section class="auth">
        <div class="auth-form">
            <h2>Login</h2>
            <!-- Added onsubmit for confirmation -->
            <form id="login-form" onsubmit="return confirmSubmit('login')">
                <input type="text" id="login-username" placeholder="Username" required>
                <input type="password" id="login-password" placeholder="Password" required>
                <button type="submit">Login</button>
            </form>
            <p id="signup-label">Don't have an account? <a href="#" id="show-signup">Create One</a></p>
            
        </div>

        <div class="auth-form" id="signup-form" style="display: none;">
            <h2>Sign Up</h2>
            <br>Why create an account?
            <br>Registering with us will allow you to save your goals and track your progress. All of your information is saved on a secure database that is accessible
            only by your user id!
            <br><br>
            <form id="signup-form-action" onsubmit="return confirmSubmit('signup')">
                <div class="form-group">
                    <label for="signup-firstname">First Name</label>
                    <input type="text" id="signup-firstname" placeholder="First Name" required>
                </div>
        
                <div class="form-group">
                    <label for="signup-lastname">Last Name</label>
                    <input type="text" id="signup-lastname" placeholder="Last Name">
                </div>
        
                <div class="form-group">
                    <label for="signup-username">Username</label>
                    <input type="text" id="signup-username" placeholder="Username" required>
                </div>
        
                <div class="form-group">
                    <label for="signup-email">Email</label> - The e-mail is only for your account recovery and alerts. We do not use your e-mail for any other purpose.
                    <input type="email" id="signup-email" placeholder="Email" required>
                </div>
        
                <div class="form-group">
                    <label for="signup-password">Password</label>
                    <input type="password" id="signup-password" placeholder="Password" required>
                </div>
        
                <div class="form-group">
                    <label for="confirm-password">Confirm Password</label>
                    <input type="password" id="confirm-password" placeholder="Confirm Password" required>
                </div>
        
                <div class="form-group">
                    <label for="signup-dob">Date of Birth</label> - Your Date of Birth will only be used for certain calculations that may affect your incomes and abilities as you get older. We do not use this for any other purpose. 
                    <input type="date" id="signup-dob" required>
                </div>
        
                <button type="submit">Create Account</button>
            </form>
            <p>Already have an account? <a href="#" id="show-login">Log in</a></p>
        </div>
        
    </section>

    <script>
        // Generic confirmation for both forms
        function confirmSubmit(formType) {
            var message = '';
            if (formType === 'login') {
                message = "Are you sure you want to log in?";
            } else if (formType === 'signup') {
                message = "Are you sure you want to create an account?";
            }
            
            // Display the confirmation dialog
            var result = confirm(message);
            
            // If the user clicks "OK", allow the form submission
            if (result) {
                return true;
            } else {
                return false; // Prevent form submission if "Cancel"
            }
        }
    </script>

{% endblock %}
